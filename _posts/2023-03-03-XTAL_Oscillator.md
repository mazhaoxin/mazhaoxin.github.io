---
layout: post
title: "晶体振荡器"
date: 2023-03-03 21:13
author: "MaZhaoxin & ChatGPT"
header-img: "img/bg-post/ic.jpg"
catlog: true
tags:
      - XTAL
      - ChatGPT
---

## 1. 晶体振荡器的介绍

晶体振荡器（XO，Crystal Oscillator，简称为“晶振”）是一种用于产生稳定高精度电信号的电子元器件，广泛应用于计算机、通讯、控制、测量等领域。比如，计算机主板上的时钟晶振、手机中的频率合成器、电视机中的水平振荡器等。

晶振可以被分为两类：无源晶振和有源晶振，它们的主要区别在于晶振的放大器部分。

- 无源晶振是指放大器部分不含有任何有源元件，如晶体管、场效应管等。它主要由晶体、LC谐振电路和反馈电路等组成。由于没有放大器的放大作用，因此无源晶振的输出功率较低，适用于一些低功率的应用场景。

- 有源晶振则是指放大器部分含有有源元件，如晶体管、场效应管等。有源晶振比无源晶振具有更高的输出功率和更好的频率稳定性，因此在一些高功率和高精度的应用场景中得到广泛应用。

总的来说，无源晶振和有源晶振各有其适用的场景，需要根据具体应用要求来选择。

## 2. 晶振的常用频率以及应用

晶振的常用频率从几千赫兹到几百兆赫兹不等。其中，高频率的晶振主要用于无线电通讯领域，如手机、WiFi、雷达等；低频率的晶振则主要用于计算机和控制领域。

除了实时时钟（RTC）的32.768kHz频率，晶振还有很多其他的常用频率和应用。以下是一些例子：

1. 16MHz - 用于微控制器、单片机等嵌入式系统中，作为系统时钟，控制各种电子元件的工作节奏。
2. **19.2MHz** - 用于计算机、单片机、微控制器等嵌入式系统中，作为系统时钟，控制各种电子元件的工作节奏。以及无线电通讯领域中的蓝牙、ZigBee等低功耗无线通讯系统，作为基带时钟，控制数据传输的速率和精度。
3. **20MHz** - 用于无线电通讯领域中的WiFi、蓝牙等无线通讯设备，控制无线信号的传输速率。
4. **26MHz** - 用于手机GSM、GPRS等通讯模块的射频芯片，控制射频信号的发射和接收。
5. 38.4MHz - 用于数字音频、数字视频、ADSL等领域，控制音频、视频、数据传输的速率和精度。
6. 38.9MHz - 用于电视机中的色彩振荡器，控制电视图像的颜色显示。
7. 40MHz - 用于数字信号处理器（DSP）等高性能处理器中，控制处理器的工作速度。
8. 48MHz - 用于手机LTE、WCDMA等高速数据传输模块的射频芯片，控制高速数据信号的传输。

总之，晶振的应用非常广泛，涵盖了计算机、通讯、控制、测量等领域，而不同的应用场景需要不同的频率和精度的晶振。

而对于射频芯片来说，晶振频率选择与调制系统有关。射频芯片的晶振频率需要与调制系统的频率相匹配，以保证射频信号的传输和接收的稳定性和精度。

通常，调制系统的频率由基带信号的频率决定，而基带信号的频率又取决于具体的应用场景和需求。例如，对于WiFi通讯系统，基带信号的频率通常在20MHz左右，因此射频芯片的晶振频率也需要在20MHz左右，以保证信号的稳定性和精度。

此外，射频芯片的晶振频率还需要考虑到其他因素，比如信号的带宽、频率分辨率等，需要根据具体的应用场景来选择合适的晶振频率。

## 3. 晶体的压电效应

晶振的核心部件是石英晶体，它是一种具有压电效应的物质。

晶体的压电效应是指在晶体表面或内部施加压力或形变时，会在晶体中产生电荷或电势差的现象。这种现象是由于晶体的晶格结构具有非对称性，即在某些方向上具有正电荷和负电荷的分布不对称性，当晶体受到外力作用时，晶格结构的对称性被破坏，从而导致电荷分布的不对称性，进而产生电荷或电势差。反之在晶体上施加电场会导致晶体发生形变。

晶体的压电效应是晶振能够产生稳定高精度信号的基础。

## 4. 晶体的电学模型

晶体是一种复杂的物理结构，其电学特性受到多种因素的影响，如晶体的物理尺寸、晶体的材料性质、温度等。这些因素的变化会导致晶体的电学特性发生变化，从而影响晶振电路的性能和稳定性。

因此，为了方便电路设计和分析，需要将晶体的复杂结构和电学特性用一个简化的模型来代替。这个模型可以根据晶体的实际电学特性和工作条件进行建立，在一定程度上反映晶体的真实行为。采用模型代替晶体，可以将晶振电路简化为一个电路模型，从而方便分析和计算电路的性能参数，如谐振频率、品质因数、稳定度等。

晶体的电学模型包括晶体的电容、电阻和电感等元件。晶体的谐振频率取决于晶体的物理结构和材料特性，如晶体的厚度、材料种类、晶面取向等。对于等效为电容$C_m$、电感$L_m$、电阻$R_m$串联后与电容$C_0$并联的模型，其谐振频率为

$$
f = \frac{1}{2\pi\sqrt{L_m(C_m+C_0)}}
$$

![晶振的等效电路模型](/img/in-post/{{page.id | replace:'/','-'}}/R-C.png)

在晶振中，晶体的电学模型需要考虑晶体的谐振特性和晶体的非线性特性。晶体的非线性特性会引起谐振频率的变化和谐波的产生，这会影响晶振的稳定性和频谱纯度。因此，在晶振设计中，需要对晶体的电学模型进行精确的建模和仿真，以保证晶振的性能和可靠性。

## 5. 典型的晶振电路

CMOS晶振电路是一种常用的集成电路，它可以在一个芯片上实现晶体振荡器和数字电路的集成。以下是几种典型的CMOS晶振电路：

1. 晶振放大器电路：晶振放大器电路是一种常用的CMOS晶振电路，它由一个共源（CS）放大器和一个反馈电路组成。晶体振荡器的输出信号经过放大器放大后，再经过反馈电路反馈到输入端，从而产生振荡。该电路具有简单、稳定的特点，适用于低频晶振电路。
2. 晶振驱动电路：晶振驱动电路是一种用于驱动晶体的电路，它由一个CMOS反相器和一个晶振串联组成。晶体振荡器的输出信号经过反相器反相后再经过晶体，从而产生振荡。该电路具有简单、稳定的特点，适用于低频晶振电路。
3. 带有自动校准功能的晶振电路：该电路由一个晶振放大器、一个数字锁相环和一个自动校准电路组成。晶振放大器用于放大晶体振荡器的输出信号，数字锁相环用于调节晶体振荡器的频率，自动校准电路用于对晶体振荡器进行自动校准，从而提高晶振电路的稳定性和精度。
4. 带有多种输出波形的晶振电路：该电路由一个晶振放大器、一个多谐振电路和一个输出电路组成。多谐振电路可以产生多种不同频率的振荡信号，输出电路可以将这些信号转换为不同形式的输出波形，如正弦波、方波、三角波等。该电路适用于需要多种输出波形的应用场合。

## 6. 晶振的启动分析

晶振电路的启动是指在给定的工作条件下，晶体振荡器能够产生稳定的振荡信号。晶振电路的启动与多种因素有关，如晶体的物理结构、工作电压、电路阻抗等。以下是一些常用的分析方法，可以帮助判断晶振电路的启动能否实现：

1. 负阻法：负阻法是一种常用的判断晶振电路启动的方法。它利用晶体振荡器的负阻特性，通过调节电路的负载阻抗或反馈电路的电容来实现启动。当电路的负载阻抗或反馈电容满足一定条件时，电路会产生自激振荡，从而实现启动。
2. Barkhausen准则：Barkhausen准则是判断振荡电路是否启动的经典方法之一。它要求振荡电路的放大倍数等于回路的衰减因子，当放大倍数和衰减因子满足一定条件时，电路会产生自激振荡。
3. 相位准则：相位准则是判断振荡电路是否启动的另一种方法。它要求振荡电路的相位移动为360度，当电路的相位移动满足一定条件时，电路会产生自激振荡。
4. 谐振曲线法：谐振曲线法是一种基于频率特性的判断方法。它通过绘制电路的频率响应曲线来确定电路的谐振频率和品质因数，从而判断电路的启动能否实现。

总之，判断晶振电路的启动能否实现需要综合考虑各种因素，采用不同的分析方法可以得到不同的结论，需要根据实际情况进行综合判断。

## 7. 晶振的频率精度与频率稳定性

晶体振荡器的频率精度一般可以用ppm（百万分之一）或ppb（十亿分之一）计量。不同类型、不同精度的晶体振荡器其频率精度也会有所不同。一般来说，晶体振荡器的频率精度在几十ppm到几个ppm之间。以下是一些常见的晶体振荡器频率精度的范围：

1. 普通的晶体振荡器：频率精度在几十ppm到几百ppm之间。
2. TCXO（温度补偿型晶体振荡器）：频率精度在几ppm到几十ppm之间。
3. OCXO（受控温度晶体振荡器）：频率精度在几ppb到几ppm之间。
4. 石英振荡器：频率精度在几ppb到几ppm之间。

需要注意的是，**频率精度不同于频率稳定度**，频率精度是指晶体振荡器输出频率与参考频率之间的偏差，而频率稳定度是指晶体振荡器输出频率随时间的变化程度。因此，在选型时需要同时考虑频率精度和频率稳定度这两个指标。

晶振的输出频率精准性受到多种因素的影响。以下是一些常见的因素及其简单介绍：

1. 晶体谐振器的谐振频率精度：晶体谐振器的谐振频率精度决定了整个振荡器的输出频率精准性。晶体谐振器的谐振频率精度受到多种因素的影响，例如晶体的尺寸、晶体的材料、晶体的制造工艺等。
2. 电容的精度：晶体振荡器中的电容对于输出频率的精准性也有很大的影响。如果电容的精度不高，就会导致输出频率的偏差。
3. 晶振的温度特性：晶振的输出频率会随着温度的变化而发生变化。因此，晶振的温度特性对于输出频率的精准性也有很大的影响。
4. 电源噪声：电源噪声也会对晶振的输出频率精准性造成影响。如果电源噪声较大，就会导致输出频率的波动。
5. 环境因素：晶振的输出频率还受到环境因素的影响，例如机械震动、电磁干扰等。
6. 振荡器电路的稳定性：振荡器电路的稳定性对于输出频率的精准性也有很大的影响。如果振荡器电路不稳定，就会导致输出频率的波动和偏移。

以上是一些常见的影响晶振电路输出频率精准性的因素。针对这些因素，可以采取相应的措施来提高晶振的输出频率精准性，例如采用高精度的晶体谐振器、优化电路设计、加入稳定性措施等。

## 8. 写在最后

**本文是在ChatGPT（Based on OpenAI API (gpt-3.5-turbo)）的帮助下完成的**，我主要负责提问和整理答案。由于那一堵厚厚的墙，我不能直接访问官方网站（*虽然花5块钱买了个账号*），因此选择了一个镜像站，在此特别感谢[ChatGPT API Demo (ddiu.me)](https://chatgpt.ddiu.me/)的站长。

在编辑本文的过程中，算是体验了ChatGPT在比较专业的领域的回答水平。必须要承认的是，它在概念解释、举例说明方面已经比普通人强太多了，知识范围广，条理性好，并且很难得的是可以输出自然流畅的中文。从其他人的使用体验看，ChatGPT在写综述、讲稿、总结、润色方面尤其出色，另外在程序员口中也得到了极高的评价，我打算以后多使用它做一些相关工作。

虽然在使用过程中不出意外地被多次震惊，但有几个点还是让我感到格外欣喜的。比如它在回答中用了一般的公式写法，我想在本文中以Latex格式引用，便有了下面的对话：

![1677853338660](/img/in-post/{{page.id | replace:'/','-'}}/1677853338660.png)

还有我问它参考资料时，它并没有直接把原文链接贴过来，而是仿佛一个电子系毕业生在介绍自己的教育背景。

![1677853741995](/img/in-post/{{page.id | replace:'/','-'}}/1677853741995.png)

当然它还是有些需要改善的地方的，比如我一直想让它做一些公式推导和电路设计，但都没有成功。

![1677853698972](/img/in-post/{{page.id | replace:'/','-'}}/1677853698972.png)

无论如何，ChatGPT都是让我感觉到“未来已来”的产品，比所谓的“元宇宙”不知道强到哪里去了（*你们没有玩过MMO游戏吗？ -- by G胖*）。

“ChatGPT的效果好不好，完全取决于提问的质量”，引用这句话是想说明，ChatGPT目前仍然是一个工具，一个强大的工具，工具发挥出来的威力和作用还是取决于用的人。当我第一次看到它时，就觉得它对未来的影响不亚于互联网或者iPhone问世，所以对于扑面而来的浪潮不应该躲避，而是要迎面而上，早接触、早熟悉、早应用。

